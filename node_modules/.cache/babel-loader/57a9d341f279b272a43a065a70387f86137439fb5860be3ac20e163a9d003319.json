{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Container,ToastContainer,Message,CloseButton}from'./styles';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Toast=_ref=>{let{message,type='success',visible,onClose}=_ref;const[isClosing,setIsClosing]=useState(false);// Função para fechar o toast com animação\nconst closeWithAnimation=()=>{setIsClosing(true);setTimeout(()=>{setIsClosing(false);onClose();},500);// Tempo da animação de saída\n};useEffect(()=>{// Esconder o toast automaticamente apenas para mensagens de sucesso\nif(visible&&type==='success'){const timer=setTimeout(()=>{closeWithAnimation();},3000);return()=>clearTimeout(timer);}},[visible,type,onClose]);// Reset do estado de fechamento quando o toast se torna visível\nuseEffect(()=>{if(visible){setIsClosing(false);}},[visible]);if(!visible)return null;return/*#__PURE__*/_jsx(Container,{className:`${type} ${visible?'show':''} ${isClosing?'hide':''}`,children:/*#__PURE__*/_jsxs(ToastContainer,{children:[/*#__PURE__*/_jsx(Message,{children:message}),type==='error'&&/*#__PURE__*/_jsx(CloseButton,{onClick:closeWithAnimation,children:\"\\xD7\"})]})});};export default Toast;","map":{"version":3,"names":["React","useEffect","useState","Container","ToastContainer","Message","CloseButton","jsx","_jsx","jsxs","_jsxs","Toast","_ref","message","type","visible","onClose","isClosing","setIsClosing","closeWithAnimation","setTimeout","timer","clearTimeout","className","children","onClick"],"sources":["/root/m-software/drive-react/src/components/Toast/index.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Container, ToastContainer, Message, CloseButton } from './styles';\n\nexport type ToastType = 'success' | 'error';\n\ninterface ToastProps {\n  message: string;\n  type?: ToastType;\n  visible: boolean;\n  onClose: () => void;\n}\n\nconst Toast: React.FC<ToastProps> = ({ message, type = 'success', visible, onClose }) => {\n  const [isClosing, setIsClosing] = useState(false);\n  \n  // Função para fechar o toast com animação\n  const closeWithAnimation = () => {\n    setIsClosing(true);\n    setTimeout(() => {\n      setIsClosing(false);\n      onClose();\n    }, 500); // Tempo da animação de saída\n  };\n  \n  useEffect(() => {\n    // Esconder o toast automaticamente apenas para mensagens de sucesso\n    if (visible && type === 'success') {\n      const timer = setTimeout(() => {\n        closeWithAnimation();\n      }, 3000);\n      \n      return () => clearTimeout(timer);\n    }\n  }, [visible, type, onClose]);\n  \n  // Reset do estado de fechamento quando o toast se torna visível\n  useEffect(() => {\n    if (visible) {\n      setIsClosing(false);\n    }\n  }, [visible]);\n\n  if (!visible) return null;\n\n  return (\n    <Container className={`${type} ${visible ? 'show' : ''} ${isClosing ? 'hide' : ''}`}>\n      <ToastContainer>\n        <Message>{message}</Message>\n        {type === 'error' && (\n          <CloseButton onClick={closeWithAnimation}>&times;</CloseButton>\n        )}\n      </ToastContainer>\n    </Container>\n  );\n};\n\nexport default Toast;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,SAAS,CAAEC,cAAc,CAAEC,OAAO,CAAEC,WAAW,KAAQ,UAAU,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAW3E,KAAM,CAAAC,KAA2B,CAAGC,IAAA,EAAqD,IAApD,CAAEC,OAAO,CAAEC,IAAI,CAAG,SAAS,CAAEC,OAAO,CAAEC,OAAQ,CAAC,CAAAJ,IAAA,CAClF,KAAM,CAACK,SAAS,CAAEC,YAAY,CAAC,CAAGhB,QAAQ,CAAC,KAAK,CAAC,CAEjD;AACA,KAAM,CAAAiB,kBAAkB,CAAGA,CAAA,GAAM,CAC/BD,YAAY,CAAC,IAAI,CAAC,CAClBE,UAAU,CAAC,IAAM,CACfF,YAAY,CAAC,KAAK,CAAC,CACnBF,OAAO,CAAC,CAAC,CACX,CAAC,CAAE,GAAG,CAAC,CAAE;AACX,CAAC,CAEDf,SAAS,CAAC,IAAM,CACd;AACA,GAAIc,OAAO,EAAID,IAAI,GAAK,SAAS,CAAE,CACjC,KAAM,CAAAO,KAAK,CAAGD,UAAU,CAAC,IAAM,CAC7BD,kBAAkB,CAAC,CAAC,CACtB,CAAC,CAAE,IAAI,CAAC,CAER,MAAO,IAAMG,YAAY,CAACD,KAAK,CAAC,CAClC,CACF,CAAC,CAAE,CAACN,OAAO,CAAED,IAAI,CAAEE,OAAO,CAAC,CAAC,CAE5B;AACAf,SAAS,CAAC,IAAM,CACd,GAAIc,OAAO,CAAE,CACXG,YAAY,CAAC,KAAK,CAAC,CACrB,CACF,CAAC,CAAE,CAACH,OAAO,CAAC,CAAC,CAEb,GAAI,CAACA,OAAO,CAAE,MAAO,KAAI,CAEzB,mBACEP,IAAA,CAACL,SAAS,EAACoB,SAAS,CAAE,GAAGT,IAAI,IAAIC,OAAO,CAAG,MAAM,CAAG,EAAE,IAAIE,SAAS,CAAG,MAAM,CAAG,EAAE,EAAG,CAAAO,QAAA,cAClFd,KAAA,CAACN,cAAc,EAAAoB,QAAA,eACbhB,IAAA,CAACH,OAAO,EAAAmB,QAAA,CAAEX,OAAO,CAAU,CAAC,CAC3BC,IAAI,GAAK,OAAO,eACfN,IAAA,CAACF,WAAW,EAACmB,OAAO,CAAEN,kBAAmB,CAAAK,QAAA,CAAC,MAAO,CAAa,CAC/D,EACa,CAAC,CACR,CAAC,CAEhB,CAAC,CAED,cAAe,CAAAb,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}